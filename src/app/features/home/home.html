<section class="relative w-full h-[60vh] md:h-[75vh] bg-slate-900 overflow-hidden group">

  <div
    class="flex w-full h-full transition-transform duration-700 ease-in-out"
    [style.transform]="'translateX(-' + currentSlide() * 100 + '%)'"
  >
    @for (slide of slides; track slide.title) {
      <div class="w-full h-full flex-shrink-0 relative">
        <img [src]="slide.image" [alt]="slide.title" class="absolute inset-0 w-full h-full object-cover opacity-60 z-0">

        <div class="absolute inset-0 bg-gradient-to-r from-slate-900/90 via-slate-900/50 to-transparent z-10"></div>

        <div class="absolute inset-0 z-20 flex flex-col justify-center px-8 md:px-16 max-w-7xl mx-auto w-full">
          <div class="max-w-2xl mt-12">
            <span class="text-xs font-bold tracking-[0.2em] text-slate-300 uppercase mb-4 block">{{ slide.badge }}</span>
            <h1 class="text-5xl md:text-7xl font-extrabold text-white tracking-tighter mb-6 leading-tight">
              {{ slide.title }}
            </h1>
            <p class="text-lg text-slate-300 mb-10 max-w-md font-light leading-relaxed">
              {{ slide.subtitle }}
            </p>
            <a [routerLink]="slide.ctaLink" class="inline-block px-8 py-4 bg-white text-slate-900 text-sm font-bold uppercase tracking-widest hover:bg-slate-200 transition-colors shadow-lg cursor-pointer">
              {{ slide.ctaText }}
            </a>
          </div>
        </div>
      </div>
    }
  </div>

  <button (click)="prevSlide()" class="absolute left-4 top-1/2 -translate-y-1/2 z-30 w-12 h-12 flex items-center justify-center rounded-full bg-white/10 hover:bg-white/30 text-white backdrop-blur-md opacity-0 group-hover:opacity-100 transition-all duration-300 cursor-pointer border border-white/20">
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5L8.25 12l7.5-7.5" /></svg>
  </button>
  <button (click)="nextSlide()" class="absolute right-4 top-1/2 -translate-y-1/2 z-30 w-12 h-12 flex items-center justify-center rounded-full bg-white/10 hover:bg-white/30 text-white backdrop-blur-md opacity-0 group-hover:opacity-100 transition-all duration-300 cursor-pointer border border-white/20">
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M8.25 4.5l7.5 7.5-7.5 7.5" /></svg>
  </button>

  <div class="absolute bottom-8 left-1/2 -translate-x-1/2 flex gap-3 z-30">
    @for (slide of slides; track slide.title; let i = $index) {
      <button
        (click)="setSlide(i)"
        class="h-2.5 rounded-full transition-all duration-300 cursor-pointer"
        [class]="currentSlide() === i ? 'w-8 bg-white' : 'w-2.5 bg-white/40'"
        aria-label="Go to slide">
      </button>
    }
  </div>
</section>

<section class="max-w-7xl mx-auto px-6 py-24">
  <div class="flex items-end justify-between mb-12">
    <h2 class="text-3xl font-bold text-slate-900 tracking-tight">Shop by Department</h2>
    <a routerLink="/catalog" class="hidden md:block text-sm font-semibold text-slate-900 uppercase tracking-widest hover:text-slate-500 transition-colors cursor-pointer">View Catalog &rarr;</a>
  </div>

  <div class="grid grid-cols-1 md:grid-cols-3 gap-6 auto-rows-[300px]">

    <a routerLink="/catalog" [queryParams]="{categoryId: 1}" class="md:col-span-2 relative bg-slate-200 rounded-2xl overflow-hidden group block cursor-pointer">
      <img src="https://images.unsplash.com/photo-1586023492125-27b2c045efd7?q=80&w=1000&auto=format&fit=crop" alt="Home and Furniture" class="absolute inset-0 w-full h-full object-cover z-0 transition-transform duration-700 group-hover:scale-105">
      <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent z-10"></div>
      <div class="absolute bottom-8 left-8 z-20">
        <h3 class="text-2xl font-bold text-white mb-2">Home & Furniture</h3>
        <span class="text-slate-200 text-sm font-bold flex items-center gap-2 group-hover:gap-3 transition-all">Explore <span aria-hidden="true">&rarr;</span></span>
      </div>
    </a>

    <a routerLink="/catalog" [queryParams]="{categoryId: 2}" class="relative bg-slate-200 rounded-2xl overflow-hidden group block cursor-pointer">
      <img src="https://images.unsplash.com/photo-1498049794561-7780e7231661?q=80&w=1000&auto=format&fit=crop" alt="Electronics" class="absolute inset-0 w-full h-full object-cover z-0 transition-transform duration-700 group-hover:scale-105">
      <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent z-10"></div>
      <div class="absolute bottom-8 left-8 z-20">
        <h3 class="text-xl font-bold text-white mb-2">Electronics</h3>
        <span class="text-slate-200 text-sm font-bold flex items-center gap-2 group-hover:gap-3 transition-all">Explore <span aria-hidden="true">&rarr;</span></span>
      </div>
    </a>

    <a routerLink="/catalog" [queryParams]="{categoryId: 3}" class="relative bg-slate-200 rounded-2xl overflow-hidden group block cursor-pointer">
      <img src="https://images.unsplash.com/photo-1445205170230-053b83016050?q=80&w=1000&auto=format&fit=crop" alt="Fashion" class="absolute inset-0 w-full h-full object-cover z-0 transition-transform duration-700 group-hover:scale-105">
      <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent z-10"></div>
      <div class="absolute bottom-8 left-8 z-20">
        <h3 class="text-xl font-bold text-white mb-2">Fashion</h3>
        <span class="text-slate-200 text-sm font-bold flex items-center gap-2 group-hover:gap-3 transition-all">Explore <span aria-hidden="true">&rarr;</span></span>
      </div>
    </a>

    <a routerLink="/catalog" [queryParams]="{categoryId: 4}" class="md:col-span-2 relative bg-slate-900 rounded-2xl overflow-hidden group block cursor-pointer flex items-center justify-center">
      <img src="https://images.unsplash.com/photo-1542838132-92c53300491e?q=80&w=1000&auto=format&fit=crop" alt="Groceries" class="absolute inset-0 w-full h-full object-cover z-0 transition-transform duration-700 group-hover:scale-105 opacity-60">
      <div class="absolute inset-0 bg-black/40 z-10"></div>
      <div class="z-20 text-center">
        <h3 class="text-3xl font-bold text-white mb-4">Groceries & Everyday</h3>
        <span class="px-6 py-3 bg-white text-slate-900 text-xs font-bold uppercase tracking-widest rounded-full hover:bg-slate-200 transition-colors">Stock Up Now</span>
      </div>
    </a>
  </div>
</section>

<section class="bg-white border-t border-slate-100 py-24">
  <div class="max-w-4xl mx-auto px-6 text-center">
    <h2 class="text-2xl font-bold text-slate-900 mb-6">Quality in every aisle.</h2>
    <p class="text-slate-500 leading-relaxed text-lg">
      Whether you are upgrading your tech, refreshing your wardrobe, or simply stocking your pantry for the week, AllMart brings you the best products at the best prices. One cart, infinite possibilities.
    </p>
  </div>
</section>
